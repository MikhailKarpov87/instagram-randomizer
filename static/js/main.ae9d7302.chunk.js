(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{32:function(e,t,n){e.exports=n(61)},37:function(e,t,n){},61:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),i=n(25),l=n.n(i),o=(n(37),n(3)),c=n(4),s=n(7),u=n(5),m=n(8),d=n(6),p=n(9),f=n(10),g="https://www.instagram.com",h="/images/notfound_pic.jpg",v="FETCHING_DATA",b="FETCHING_DATA_SUCCESS",E="UPDATE_INPUT",N="START_PICKING",w="REMOVE_RANDOM_ITEM",y="FINISH_PICKING",O="REMOVE_ALL",j="CHANGE_LANGUAGE",k="UPDATE_WINNERS_NUM",P=["\u0424\u043e\u0442\u043e \u043f\u0440\u043e\u0444\u0438\u043b\u044f","profile picture","Foto del perfil","Profilbild","Photo de profil"],I=n(15),A=Object(p.combineReducers)({input:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E:return t.payload;default:return e}},profiles:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case b:var n=t.payload.data;return[].concat(Object(f.a)(e),[n]);case y:var a=t.payload,r=a.profiles,i=a.removedProfiles;return r.filter(function(e,t){return!i.includes(t)});case v:case O:return[];default:return e}},winners:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y:var n=t.payload,a=n.profiles,r=n.removedProfiles;return a.filter(function(e,t){return!r.includes(t)}).map(function(e){return e.name});case O:case v:return[];default:return e}},removedItems:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case w:return[].concat(Object(f.a)(e),[t.payload]);case v:case y:return[];default:return e}},loading:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case v:return!0;case b:var n=t.payload.progress,a=n.total;return n.done!==a;default:return e}},picking:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};switch((arguments.length>1?arguments[1]:void 0).type){case N:return!0;case y:return!1;default:return e}},error:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:var n=t.payload,a=n.winnersNum,r=n.profilesNum;return(a<1||a>=r)&&"wrongNumError";default:return e}},settings:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case k:var n=t.payload,a=n.winnersNum,r=n.profilesNum,i=a<1||a>=r?1:a;return Object(I.a)({},e,{winnersNum:+i});case j:return Object(I.a)({},e,{lang:t.payload});default:return e}}}),C=n(28),T=n(29),x={ru:{inputListPlaceholder:"\u0414\u043e\u0431\u0430\u0432\u044c\u0442\u0435 \u0441\u043f\u0438\u0441\u043e\u043a Instagram \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439",howToAdd:"\u041a\u0430\u043a \u0434\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u043f\u0438\u0441\u043e\u043a \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439",load:"\u0417\u0430\u0433\u0440\u0443\u0437\u0438\u0442\u044c",loading:"\u0417\u0430\u0433\u0440\u0443\u0437\u043a\u0430... ",loaded:"\u0417\u0430\u0433\u0440\u0443\u0436\u0435\u043d\u043e: ",clear:"\u041e\u0447\u0438\u0441\u0442\u0438\u0442\u044c",pickNumOfProfiles:"\u041e\u0442\u043e\u0431\u0440\u0430\u0442\u044c \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439:",picking:"\u0412\u044b\u0431\u0438\u0440\u0430\u0435\u043c... ",start:"\u0421\u0442\u0430\u0440\u0442!",loadingError:"\u0412\u043e\u0437\u043d\u0438\u043a\u043b\u0430 \u043e\u0448\u0438\u0431\u043a\u0430 \u043f\u0440\u0438 \u0437\u0430\u0433\u0440\u0443\u0437\u043a\u0435 \u0440\u0435\u0437\u0443\u043b\u044c\u0442\u0430\u0442\u043e\u0432. \u041f\u043e\u043f\u0440\u043e\u0431\u0443\u0439\u0442\u0435 \u0435\u0449\u0435 \u0440\u0430\u0437.",wrongNumError:"\u0427\u0438\u0441\u043b\u043e \u0434\u043e\u043b\u0436\u043d\u043e \u0431\u044b\u0442\u044c \u0431\u043e\u043b\u044c\u0448\u0435 \u043d\u0443\u043b\u044f \u0438 \u043c\u0435\u043d\u044c\u0448\u0435 \u0447\u0438\u0441\u043b\u0430 \u043f\u0440\u043e\u0444\u0438\u043b\u0435\u0439",winner:"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u044c:",winners:"\u041f\u043e\u0431\u0435\u0434\u0438\u0442\u0435\u043b\u0438:"},en:{inputListPlaceholder:"Add list of Instagram profiles here",howToAdd:"How to add profiles list",load:"Load",loading:"Loading... ",loaded:"Loaded: ",clear:"Clear",pickNumOfProfiles:"Pick profiles:",picking:"Picking... ",start:"Start!",loadingError:"Error occured while loading results. Please try again.",wrongNumError:"Number must be greater than zero and less than profiles num",winner:"The winner is:",winners:"Winners are:"}},_=function(e){return e.isActive&&r.a.createElement("i",{className:"fab fa-instagram spinner"})},M=n(14),L=n.n(M),S=n(30),F=n(31),G=n.n(F),D=function(e){return e<10?700:e>=10&&e<30?400:e>=30&&e<100?250:e>=100?100:void 0},R=function(e){var t=(new DOMParser).parseFromString(e,"text/html").querySelector("meta[property='og:image']").content;return t||!1},W=function(e){var t,n=e.split("\n"),a=[];if(P.some(function(t){return e.includes(t)})){var r=function(e){e<2&&P.some(function(t){return n[e].includes(t)})&&n[e-2]&&a.push(n[e-2]),P.some(function(t){return n[e].includes(t)})&&n[e++]&&n[e]&&a.push(n[e]),i=e};for(var i in n)r(i);t=a.join("\n")}else t=e;return t},H=function(e){return new Promise(function(t){return setTimeout(t,e)})};function U(e){return{type:b,payload:e}}var K=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.input,n=e.profiles,a=e.loading,i=e.picking,l=e.error,o=e.settings,c=e.updateWinnersNum,s=e.validateWinnersNum,u=e.startPicking,m=D(n.length),d=x[o.lang];return r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},l&&r.a.createElement("div",{className:"alert alert-danger",role:"alert"},d[l]),!i&&r.a.createElement("div",null,r.a.createElement("label",{htmlFor:"winnersNum"},d.pickNumOfProfiles),r.a.createElement("input",{type:"number",className:"winners-num-input",value:o.winnersNum,onChange:function(e){return c(e.currentTarget.value)},onBlur:function(e){return s(e.currentTarget.value,n.length)}})),r.a.createElement("button",{className:"btn btn-success btn-lg ".concat(!t||a||i||l?"btn-disabled":""),disabled:!t||a||i||l,onClick:function(){return u(n,o.winnersNum,m)}},i?d.picking:d.start,r.a.createElement(_,{isActive:i}))))}}]),t}(a.Component),z=Object(d.b)(function(e){return{input:e.input,profiles:e.profiles,loading:e.loading,picking:e.picking,error:e.error,settings:e.settings}},{updateWinnersNum:function(e){return{type:k,payload:{winnersNum:e}}},validateWinnersNum:function(e,t){return{type:k,payload:{winnersNum:e,profilesNum:t}}},startPicking:function(e,t,n){var a=e.length,r=[];return function(){var i=Object(S.a)(L.a.mark(function i(l){var o,c;return L.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:l({type:N}),o=a;case 2:if(!(o>t)){i.next=12;break}for(c=Math.floor(Math.random()*a);r.includes(c);)c=Math.floor(Math.random()*a);return r.push(c),l({type:w,payload:c}),i.next=9,H(n);case 9:o--,i.next=2;break;case 12:return i.next=14,H(400);case 14:l({type:y,payload:{removedProfiles:r,profiles:e}});case 15:case"end":return i.stop()}},i)}));return function(e){return i.apply(this,arguments)}}()}})(K),q=function(e){var t=e.label,n=e.hintContent;return r.a.createElement("div",{className:"input-hint small text-muted"},r.a.createElement("i",{className:"far fa-question-circle"})," ",t,r.a.createElement("span",{className:"tooltiptext"},n))},B=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.input,n=e.profiles,a=e.winners,i=e.loading,l=e.removeAll,o=e.settings,c=e.handleInput,s=e.fetchProfilesImages,u=x[o.lang];return r.a.createElement("div",{className:"container input-container"},r.a.createElement("div",{className:"row justify-content-center"},r.a.createElement("div",{className:"col-md-4 input-column"},r.a.createElement(q,{label:u.howToAdd,hintContent:r.a.createElement("img",{src:"images/how-to.gif",alt:"how to add profiles list",width:"320"})}),r.a.createElement("textarea",{className:"form-control",onChange:function(e){return c(e.currentTarget.value)},value:t,rows:7,placeholder:u.inputListPlaceholder})),r.a.createElement("div",{className:"col-md-4 buttons input-column"},r.a.createElement("div",{className:"button"},r.a.createElement("button",{className:"btn btn-primary btn-fix ".concat(!t||i?"btn-disabled":""),onClick:function(e){return s(t)},disabled:!t||i},i?u.loading:u.load,r.a.createElement(_,{isActive:i})),!!n.length&&!i&&!a.length&&r.a.createElement("span",null,u.loaded,r.a.createElement("span",{className:"badge badge-pill badge-dark"},n.length))),!!n.length&&!i&&r.a.createElement("div",{className:"button"},r.a.createElement("button",{className:"btn btn-danger btn-fix",onClick:l},u.clear)),!i&&n.length>1&&!a.length&&r.a.createElement(z,null))))}}]),t}(a.Component),J=Object(d.b)(function(e){return{loading:e.loading,input:e.input,profiles:e.profiles,winners:e.winners,settings:e.settings}},{fetchProfilesImages:function(e){return function(t,n){t({type:v});var a=e.split("\n").filter(function(e){return!!e}),r=a.length,i=function(e){G.a.get("".concat(g,"/").concat(a[e],"/")).then(function(i){var l=n().profiles,o=R(i.data)||h;t(U({data:{name:a[e],img:o},progress:{done:l.length+1,total:r}}))}).catch(function(i){var l=n().profiles;t(U({data:{name:a[e],img:h},progress:{done:l.length+1,total:r}}))})};for(var l in a)i(l)}},handleInput:function(e){var t=W(e);return{type:E,payload:t}},removeAll:function(){return{type:O}}})(B),V=function(e){var t=e.img,n=e.name,a=e.removed,i=e.removingTime,l=e.winner,o="profile".concat(a?" removed":"").concat(l?" winner":""),c=a?"removing ".concat(i,"ms ease"):"";return r.a.createElement("div",{className:o,style:{animation:c}},r.a.createElement("span",{className:"tooltiptext"},n),r.a.createElement("a",{href:"".concat(g,"/").concat(n),target:"_blank",rel:"noopener noreferrer"},r.a.createElement("img",{src:t,className:"rounded-circle",alt:n})))},Q=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){var e=this.props,t=e.profiles,n=e.winners,a=e.removedItems,i=e.settings,l=e.loading,o=n.length?n.length:t.length>20?25:10,c=D(t.length),s=x[i.lang],u=n.length?r.a.createElement("div",{className:"winners_text"},r.a.createElement("h3",null,1===n.length?s.winner:s.winners)):null;return l?r.a.createElement("div",{className:"profiles-container text-center"},r.a.createElement("h3",null,r.a.createElement(_,{isActive:l}))):r.a.createElement("div",{className:"profiles-container"},u,r.a.createElement("div",{className:"profiles",style:{gridTemplateColumns:"repeat(".concat(o,", minmax(25px, ").concat(n.length?"100":"77","px))")}},t&&t.map(function(e,t){return r.a.createElement(V,{img:e.img,name:e.name,key:e.name,removed:a.includes(t),winner:n.includes(e.name),removingTime:c})})))}}]),t}(a.PureComponent),X=Object(d.b)(function(e){return{profiles:e.profiles,removedItems:e.removedItems,winners:e.winners,settings:e.settings,loading:e.loading}})(Q),Y=function(){return r.a.createElement("h3",{className:"text-center"},r.a.createElement("i",{className:"fab fa-instagram"}),"Instagram Randomizer App")},Z=function(){return r.a.createElement("div",{className:"text-muted text-center font-sm footer"},r.a.createElement("p",{className:"small"},"made by ",r.a.createElement("a",{href:"https://github.com/MikhailKarpov87/",target:"_blank",rel:"noopener noreferrer"},"Mihanik87")),r.a.createElement("p",{className:"small"},r.a.createElement("a",{href:"https://github.com/MikhailKarpov87/instagram-randomizer/",target:"_blank",rel:"noopener noreferrer"},"GitHub")))},$=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"renderFlags",value:function(){var e=this.props.changeLanguage;return Object.keys(x).map(function(t){return r.a.createElement("div",{className:"language-item",onClick:function(){return e(t)},key:t,style:{backgroundImage:"url(/images/".concat(t,"-flag.png)")}})})}},{key:"render",value:function(){return r.a.createElement("div",{className:"language-switch"},this.renderFlags())}}]),t}(a.Component),ee=Object(d.b)(null,{changeLanguage:function(e){return{type:j,payload:e}}})($),te=function(){return r.a.createElement("div",{className:"container"},r.a.createElement(ee,null),r.a.createElement(Y,null),r.a.createElement(J,null),r.a.createElement(X,null),r.a.createElement(Z,null))},ne={input:"",profiles:[],winners:[],removedItems:[],loading:!1,picking:!1,error:!1,settings:{winnersNum:1,lang:"ru"}},ae=Object(T.composeWithDevTools)(Object(p.applyMiddleware)(C.a))(p.createStore),re=function(e){function t(){return Object(o.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(d.a,{store:ae(A,ne)},r.a.createElement(te,null))}}]),t}(a.Component);l.a.render(r.a.createElement(re,null),document.getElementById("root"))}},[[32,1,2]]]);
//# sourceMappingURL=main.ae9d7302.chunk.js.map